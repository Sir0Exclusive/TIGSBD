<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Sample Products - TIGSBD</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 50px auto; padding: 20px; }
        button { padding: 10px 20px; font-size: 16px; cursor: pointer; background: #f59e0b; color: white; border: none; border-radius: 8px; }
        button:hover { background: #d97706; }
        .log { background: #f3f4f6; padding: 15px; border-radius: 8px; margin-top: 20px; max-height: 400px; overflow-y: auto; }
        .log div { padding: 5px 0; border-bottom: 1px solid #e5e7eb; }
        .success { color: #10b981; }
        .error { color: #ef4444; }
    </style>
</head>
<body>
    <h1>Add Sample Products to Firebase</h1>
    <p>Click the button below to add sample products to your Firebase Realtime Database.</p>
    <button onclick="addSampleProducts()">Add Sample Products</button>
    <div id="log" class="log"></div>

    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>
    <script src="js/firebase-config.js"></script>
    <script>
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function log(message, type = 'info') {
            const logDiv = document.getElementById('log');
            const entry = document.createElement('div');
            entry.className = type;
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logDiv.appendChild(entry);
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        const sampleProducts = [
            {
                name: 'Premium Wireless Headphones',
                price: 4499,
                category: 'Electronics',
                description: 'High-quality wireless headphones with noise cancellation and 30-hour battery life.',
                stock: 25,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/f59e0b/ffffff?text=Headphones'
            },
            {
                name: 'Smart Watch Ultra Pro',
                price: 8999,
                category: 'Electronics',
                description: 'Advanced smartwatch with health tracking, GPS, and waterproof design.',
                stock: 15,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/f59e0b/ffffff?text=Smart+Watch'
            },
            {
                name: '4K Camera with Lens Bundle',
                price: 24999,
                category: 'Electronics',
                description: 'Professional 4K camera bundle with multiple lenses and accessories.',
                stock: 8,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/f59e0b/ffffff?text=Camera'
            },
            {
                name: 'Premium Gaming Mouse',
                price: 2249,
                category: 'Electronics',
                description: 'High-precision gaming mouse with RGB lighting and programmable buttons.',
                stock: 40,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/f59e0b/ffffff?text=Gaming+Mouse'
            },
            {
                name: 'Stylish Summer Dress',
                price: 1999,
                category: 'Fashion',
                description: 'Elegant summer dress made from breathable cotton fabric.',
                stock: 30,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/ec4899/ffffff?text=Summer+Dress'
            },
            {
                name: 'Cotton T-Shirt Pack (3 pcs)',
                price: 899,
                category: 'Fashion',
                description: 'Pack of 3 premium cotton t-shirts in assorted colors.',
                stock: 50,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/ec4899/ffffff?text=T-Shirt+Pack'
            },
            {
                name: 'Designer Sunglasses',
                price: 3499,
                category: 'Fashion',
                description: 'UV protection designer sunglasses with premium frame.',
                stock: 20,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/ec4899/ffffff?text=Sunglasses'
            },
            {
                name: 'Premium Skincare Set',
                price: 2299,
                category: 'Beauty',
                description: 'Complete skincare routine with cleanser, toner, and moisturizer.',
                stock: 35,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/8b5cf6/ffffff?text=Skincare+Set'
            },
            {
                name: 'Organic Hair Care Kit',
                price: 1799,
                category: 'Beauty',
                description: 'Natural hair care products with organic ingredients.',
                stock: 28,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/8b5cf6/ffffff?text=Hair+Care'
            },
            {
                name: 'LED Desk Lamp',
                price: 1299,
                category: 'Home',
                description: 'Adjustable LED desk lamp with touch control and USB charging.',
                stock: 45,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/06b6d4/ffffff?text=Desk+Lamp'
            },
            {
                name: 'Coffee Maker Pro',
                price: 3999,
                category: 'Home',
                description: 'Programmable coffee maker with thermal carafe and auto-brew.',
                stock: 18,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/06b6d4/ffffff?text=Coffee+Maker'
            },
            {
                name: 'Decorative Throw Pillow Set',
                price: 899,
                category: 'Home',
                description: 'Set of 4 decorative throw pillows with removable covers.',
                stock: 60,
                status: 'active',
                image: 'https://via.placeholder.com/400x400/06b6d4/ffffff?text=Pillows'
            }
        ];

        async function addSampleProducts() {
            log('Starting to add sample products...', 'info');
            
            try {
                // Check if user is logged in
                const user = firebase.auth().currentUser;
                if (!user) {
                    log('Please login first! Redirecting to admin login...', 'error');
                    setTimeout(() => {
                        window.location.href = 'admin/login.html';
                    }, 2000);
                    return;
                }

                log(`Adding ${sampleProducts.length} products...`, 'info');
                
                for (let i = 0; i < sampleProducts.length; i++) {
                    const product = sampleProducts[i];
                    const ref = db.ref('products').push();
                    
                    await ref.set({
                        ...product,
                        id: ref.key,
                        createdAt: firebase.database.ServerValue.TIMESTAMP,
                        updatedAt: firebase.database.ServerValue.TIMESTAMP
                    });
                    
                    log(`âœ“ Added: ${product.name} (${product.category})`, 'success');
                }
                
                log('All products added successfully!', 'success');
                log('You can now view them in the admin panel or public site.', 'success');
                
            } catch (error) {
                log(`Error: ${error.message}`, 'error');
                console.error('Error adding products:', error);
            }
        }

        // Check auth state
        firebase.auth().onAuthStateChanged((user) => {
            if (user) {
                log(`Logged in as: ${user.email}`, 'success');
            } else {
                log('Not logged in. Please login first.', 'error');
            }
        });
    </script>
</body>
</html>
